<div class="notifications-page">
  <div class="notifications-header">
    <h1>Notifications</h1>
    <% if @notifications.unread.any? %>
      <%= button_to "Mark all as read", mark_all_as_read_notifications_path, method: :patch, class: "btn-outline" %>
    <% end %>
  </div>

  <% if @notifications.any? %>
    <div class="notifications-list">
      <% @notifications.each do |notification| %>
        <div class="notification-item <%= notification.read? ? 'read' : 'unread' %>">
          <div class="notification-content">
            <% if notification.notification_type == "comment" %>
              <div class="notification-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                </svg>
              </div>
              <div class="notification-text">
                <p>
                  <strong><%= notification.notifiable.user.name %></strong>
                  commented on your post
                  "<%= link_to notification.notifiable.post.title, post_path(notification.notifiable.post) %>"
                </p>
                <p class="notification-preview">"<%= truncate(notification.notifiable.body, length: 100) %>"</p>
                <span class="notification-time"><%= time_ago_in_words(notification.created_at) %> ago</span>
              </div>
            <% end %>
          </div>
          <div class="notification-actions">
            <% unless notification.read? %>
              <%= button_to "Mark as read", mark_as_read_notification_path(notification), method: :patch, class: "btn-small" %>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="empty-state">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
      </svg>
      <p>No notifications yet</p>
    </div>
  <% end %>
</div>

